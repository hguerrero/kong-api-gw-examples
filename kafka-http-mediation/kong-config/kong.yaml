_format_version: "3.0"
_transform: true

services:
  - name: kafka-local
    url: tcp://localhost:9092
    routes:
    - name: kafka-consumer-http-get
      paths:
      - /kafka/rest/my-topic
    - name: kafka-producer
      paths:
      - /kafka/my-topic

plugins:
  - name: kafka-consume
    route: kafka-consumer-http-get
    config:
      topics: 
      - name: my-topic
      bootstrap_servers:
      - host: localhost
        port: 9092

  - name: kafka-upstream
    route: kafka-producer
    config:
      topic: my-topic
      bootstrap_servers:
      - host: localhost
        port: 9092